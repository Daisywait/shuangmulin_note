## 一、核心概念：端口映射（Port Mapping）

### 什么是端口映射？

> **把宿主机（你的电脑/服务器）的某个端口，映射到容器内部的某个端口。**

这样，外部通过宿主机的 IP + 端口，就能访问容器里运行的服务。

---

### 图中例子解析：

|宿主机端口（左边）|→|容器端口（右边）|
|---|---|---|
|2224|→|22|
|8929|→|80|

#### 意思是：

1. **宿主机 2224 端口 → 容器内 22 端口**
    - 容器里运行了 **SSH 服务**（默认监听 22 端口）
    - 你用 ssh user@你的服务器IP -p 2224 就能登录容器！
2. **宿主机 8929 端口 → 容器内 80 端口**
    - 容器里运行了 **Web 服务**（比如 Nginx、Apache，默认 80 端口）
    - 你在浏览器输入 http://你的服务器IP:8929 就能访问这个网站！

---

## 二、SSH 是什么？为什么用 2224 而不是 22？

### SSH（Secure Shell）：

> 一种 **加密的远程登录协议**，让你安全地通过命令行操作远程服务器。

- 默认端口：**22**
- 命令示例：ssh root@123.45.67.89

---

### 为什么宿主机用 2224 而不是 22？

|原因|说明|
|---|---|
|**宿主机本身可能已经在用 22 端口**|你的服务器本身可能运行了 SSH 服务，监听在 22 端口，不能重复使用。|
|**安全考虑（隐藏真实端口）**|把容器的 SSH 暴露在非标准端口（如 2224），可以减少自动扫描攻击。|
|**允许多个容器共存**|你可以运行 10 个容器，每个都映射不同的宿主机端口（如 2224, 2225, 2226...）到容器内的 22 端口。|

---

## 三、图中“意思是”三句话详解

> - GitLab 的 SSH 只能通过宿主机的 **2224 端口访问**
> - 宿主机的 **22 端口是系统自己的 SSH**（linmaojue... 用）
> - 你连 **22 端口 = 连整台机器！**

### 完美解释：

|你想干的事|用哪个端口？|连到哪里？|
|---|---|---|
|登录 **整台服务器**（宿主机）|ssh user@IP -p 22|宿主机系统|
|登录 **某个容器里的 SSH**|ssh user@IP -p 2224|容器内部|
|访问容器里的 **网页服务**|浏览器打开 IP:8929|容器内 Web|