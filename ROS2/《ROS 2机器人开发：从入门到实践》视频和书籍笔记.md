>现在用 Typeless 来进行一个口述的笔记整理。我觉得这种口述有助于我整理思路，又不会花那么多时间来打字。
OK，那就开始吧。放一句座右铭（或者说是一句小小的话）：
"Failure is not fatal, success is not final; it is the courage to continue that counts."

首先第一部分是关于 Linux 的基础命令，我在这里整理一下关于文件的操作：

1. 进入目录：用 cd 进入文件目录
2. 创建文件夹：
   (a) 用 mkdir 创建文件夹
   (b) 用 mkdir -p 可以创建嵌套的文件目录
3. 创建文件：用 touch 命令
4. 查看内容：用 cat 查看文件内容
5. 查看文件列表：
   (a) 用 ls 查看当前文件夹下的文件
   (b) 用 ls -a 查看包含隐藏文件在内的所有文件

用 ls 查看文件时，不同颜色代表不同类型：
- 绿色：代表可执行文件
- 蓝色：代表文件夹
- 普通颜色：代表普通文件

除了文件操作，还有一些终端和 VS Code 的快捷键技巧：

1. 终端快捷键
   (a) 快速打开 VS Code：在终端中进入指定目录后，输入 `code .` 即可直接打开 VS Code，并定位到当前目录。
   (b) 快捷键组合：通常可以使用 `Ctrl + Alt + T` 进入终端。                                                  
   (c) 终端上复制内容是 Ctrl + Shift + C，粘贴则是 Ctrl + Shift + V
2. VS Code 快捷键
   (a) 打开集成终端：我经常使用 `Ctrl + ~`（Tab 键上方那个键，类似顿号的符号）来打开 VS Code 的集成终端。
   (b) 分屏终端：如果在同一个页面内需要打开两个分屏终端，用 Ctrl + Shift + 5（不是 F5）

还有一些是在终端上安装文件的操作。安装时需要使用 sudo（s-u-d-o）来执行 dpkg -i 命令，这里的 i 代表 install（安装）。

具体操作步骤如下：
1. 输入 sudo dpkg -i
2. 后面接你的 .deb 文件名称（通常可以用 Tab 键来进行补全）

>关于这个命令的含义，之前我问林家裕那个 -i 是什么意思，他说是类似“完整安装”之类的。但我昨天听了  Rose 的课，说的是 install。之前这个概念有点不太清晰，这里还是纠正一下。

当遇到忘记命令或者打错英文单词的情况（比如把 install 误打成 ints 之类的），其实不需要每次都去上网搜索或问 AI，学会看 help 提示信息会快得多。

如果你在终端经常忘记命令的具体用法，可以直接用 `--help` 来查看。它会告诉你：
1. 命令的具体功能
2. 后面可以接哪些参数
3. 提示信息中的方括号 `[]` 通常表示可选参数

以昨天提到的创建 ROS 2 功能包的命令为例：
我之前都是直接复制粘贴，没太注意具体的指令。这条命令应该是 `ros2 pkg`，后面接具体的子命令。如果你忘记了后续操作，直接输入 `ros2 pkg --help`，你就会发现子命令是 `create`，接着再加上功能包的名字就可以了。

这种查阅方式非常简单，而且比查资料或问 AI 的效率更高，所以一定要学会看 help 的提示信息。

用这个例子来引出 ROS 2 功能包的一些知识点整理。

1. 为什么要创建功能包
   (a) 如果直接创建多个独立的 Python 或 C++ 节点文件，会导致管理混乱。
   (b) ROS 2 官方推荐使用功能包（Package）来组织和管理这些节点。

2. 文件执行与后缀名
   (a) 以 `python_node.py` 为例，在 Linux 终端中，绿色代表该文件是可执行的。
   (b) 实际上，如果你把 `.py` 后缀改掉，它依然可以直接运行，前提是它必须是一份“可执行文件”。
   (c) `.py` 后缀更多是给 VS Code 识别环境用的，同时也方便我们人工区分文件类型。

3. 修改文件权限
   (a) 使用 `chmod` 命令来修改权限：`chmod [U/A/O]+x [文件名]`。
   (b) U (User) 代表创建文件的用户，A (All) 代表所有人，O (Other) 代表其他用户。
   (c) `+x` 代表赋予执行（Execute）权限。

4. 执行程序的两种方式
   (a) 方式一：直接用解释器运行，例如输入 `python3 [文件名]`。如果系统中没有安装 Python，终端会给出相应的安装提示。
   (b) 方式二：在 VS Code 编辑器中，在文件开头添加 Shebang 行（例如 `#!/usr/bin/python3`），这样赋予执行权限后就可以直接用./文件名的方式运行该文件。
5. 这里还要补充一下 VS Code 的工作原理。

它似乎是通过安装插件（比如 类似的 Python 插件）来实现代码提示的。当你把鼠标悬停在一个函数或变量上方时，它就会弹出提示框，显示该函数的参数设置、信息以及功能介绍。

其背后的实现原理大致如下：
1. 安装插件后，插件会预读你本地文件中的功能包和库。
2. 以导入 `rclpy`（ROS 2 Client Library for Python）为例，当你导入这个库并安装了相关插件，系统就能获取到提示信息。
3. 插件会自动关联到库文件所在的目录并读取相关文档，从而实现即时信息的弹出。

除此之外，我还想再补充一下关于 Linux 环境变量的内容：
在终端上输入 `export 变量名=文件路径`（例如 `$变量名=路径`）可以设置当前终端有效的环境变量。如果想让设置永久生效，需要修改主目录下的 `.bashrc` 文件。在文件中进行修改并保存后，执行 `source ~/.bashrc` 即可。

这里我想详细解释一下，为什么在 ROS 2 开发中，每次都需要执行 `source install/setup.bash`：

1. 环境变量的作用：
   当你执行 `ros2 run <package_name> <executable_name>` 命令时，系统需要一个环境变量的支撑来定位可执行文件的具体路径。`source install/setup.bash` 的作用就是为当前终端指定这些路径。

2. 可执行文件的实际位置：
   你可能会认为可执行文件就是你在功能包下创建的 `python_node.py`，但事实并非如此。在使用 `colcon build` 编译后，工作空间会生成三个目录：
   (a) build
   (b) install
   (c) log

   实际上，可执行文件会被“搬”到 `install` 目录下。因此，每次打开新终端都要 source 一下环境变量，本质上就是为了让系统能够找到位于 `install` 目录中的可执行文件。当然，如果你觉得每次都输入 `source install/setup.bash` 比较麻烦，也可以直接将其加入到 `.bashrc` 文件中，这样设置就能永久生效了。

关于编译相关的内容，我再补充一点：
1. C 语言和 C++ 的执行原理
   (a) 它们都需要经过编译之后才能执行，不像 Python 是解释型语言。
   (b) C++ 的节点文件需要通过编译命令（如 `g++` 加文件名）生成一个可执行文件（通常会产生一个 `.out` 文件）。
   (c) 运行这个生成的可执行文件即可，而且该文件是二进制格式的，这与 Python 的执行方式不同。

2. 使用 CMakeLists.txt 进行管理
   (a) 如果每次都直接使用 `g++`，当编译依赖变多时会非常不方便。
   (b) 此时可以采用 `CMakeLists.txt` 文件来管理你的项目。虽然具体的文件内容（比如是否需要加 Apache 许可证等信息）我记不太清了，但基本流程是确定的。
   (c) 在该文件中添加你创建的节点文件名及相关信息，随后使用 `cmake` 命令生成 `Makefile` 文件。
   (d) 接着在目录下执行 `make` 命令，它就会像 `g++` 那样生成可执行文件，从而实现对文件的编译与执行。

